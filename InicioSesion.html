<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulario de Usuario</title>
    <link rel="stylesheet" href="InicioSesion.css">
</head>
<body>
    <div id="cookie-placeholder"></div>

    <div id="header-container"></div>
    <script>
      fetch("Header1.html")
        .then(response => response.text())
        .then(data => {
          document.getElementById("header-container").innerHTML = data;
        })
        .catch(error => console.error("Error al cargar el header:", error));
    </script>

    <div class="form-container">
        <div class="logo-user">
            <img src="imagenes/LogoUsuario.png" alt="Logo Usuario">
        </div>
        <form id="loginForm" onsubmit="return validateLogin()">
            <h2>Iniciar Sesión</h2>
            <h5>¿Nuevo aquí? <a href="CreacionCuenta.html">Haz clic para crear tu cuenta</a></h5>
            
            <label for="username">Correo electrónico</label>
            <input type="text" id="username" name="username" placeholder="Ingresa tu correo electrónico" required>

            <label for="password">Contraseña</label>
            <input type="password" id="password" name="password" placeholder="Ingresa tu contraseña" required>

            <div class="role-switch">
                <label class="switch">
                    <input type="checkbox" id="role-toggle">
                    <span class="slider"></span>
                </label>
                <span class="role-label">Soy desarrollador</span>
            </div>

            <h4><a href="#">¿Olvidaste tu contraseña?</a></h4>
            <button type="submit">Iniciar sesión</button>
        </form>
    </div>

        <script>
        // Credenciales predefinidas (puedes agregar más)
        const validCredentials = {
            user: {
                email: "usuario@ejemplo.com",
                password: "clave123"
            },
            developer: {
                email: "dev@ejemplo.com",
                password: "dev456"
            }
        };

        function validateLogin() {
            const email = document.getElementById("username").value;
            const password = document.getElementById("password").value;
            const isDeveloper = document.getElementById("role-toggle").checked;
            
            // Validar según el rol seleccionado
            const correctCredentials = isDeveloper ? validCredentials.developer : validCredentials.user;
            
            if(email === correctCredentials.email && password === correctCredentials.password) {
                // Redirigir a la página correspondiente
                window.location.href = isDeveloper ? "perfil_diseñador.html" : "perfil_usuario.html";
                return false; // Evita el envío del formulario
            } else {
                alert("Credenciales incorrectas. Prueba con:\n" +
                    `Email: ${correctCredentials.email}\n` +
                    `Contraseña: ${correctCredentials.password}`);
                return false; // Evita el envío del formulario
            }
        }
        </script>
</body>
</html>
